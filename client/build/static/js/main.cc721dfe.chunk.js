(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{293:function(e,t,a){},295:function(e,t,a){},482:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(39),r=a.n(l),i=(a(293),a(64)),c=a.n(i),u=a(145),d=a(43),o=(a(295),a(4)),p=a(195),m=a.n(p),f=a(275),E=a.n(f),b=a(27),O=a(281),I=a.n(O),v=a(146),g=function(e){var t=e.issueList,a=e.setAddIssueOpen,l=e.setAddOrUpdate,r=e.setEditInitVals,i=e.deleteIssue,c=t.map((function(e,t){var a=e._id,n=e.issue_title,l=e.issue_text,r=e.assigned_to,i=e.status_text;return s.a.createElement(b.FlatTableRow,{key:t},s.a.createElement(b.FlatTableCell,null,n),s.a.createElement(b.FlatTableCell,null,l),s.a.createElement(b.FlatTableCell,null,r),s.a.createElement(b.FlatTableCell,null,i),s.a.createElement(b.FlatTableCell,null,s.a.createElement(v.ActionPopover,null,s.a.createElement(v.ActionPopoverItem,{icon:"edit",onClick:function(){return u(a,n,l,r,i)}},"Edit"),s.a.createElement(v.ActionPopoverItem,{icon:"delete",onClick:function(){return o(a)}},"Delete"))))})),u=function(e,t,n,s,i){l("Update"),r({_id:e,title:t,details:n,assigned:s,status:i}),a(!0)},o=function(e){i(e)},p=Object(n.useState)({start:0,end:5}),m=Object(d.a)(p,2),f=m[0],E=m[1],O=Object(n.useState)(1),g=Object(d.a)(O,2),T=g[0],h=g[1];return s.a.createElement("div",{id:"issue-list"},s.a.createElement(b.FlatTable,{isZebra:!0,hasStickyHead:!0,hasStickyFooter:!0,footer:s.a.createElement(I.a,{totalRecords:c.length,showPageSizeSelection:!0,pageSize:5,currentPage:T,onPagination:function(e,t){return function(e,t){var a=(e-1)*t;E({start:a,end:a+t}),h(e)}(e,t)},pageSizeSelectionOptions:[{id:"5",name:5},{id:"10",name:10}]})},s.a.createElement(b.FlatTableHead,null,s.a.createElement(b.FlatTableRow,null,s.a.createElement(b.FlatTableHeader,null,"Title"),s.a.createElement(b.FlatTableHeader,null,"Details"),s.a.createElement(b.FlatTableHeader,null,"Assigned To"),s.a.createElement(b.FlatTableHeader,null,"Status Text"),s.a.createElement(b.FlatTableHeader,null))),s.a.createElement(b.FlatTableBody,null,function(){var e=f.start,t=f.end;return e<0?c:t>c.length?c.slice(e,c.length):c.slice(e,t)}())))},T=a(282),h=a.n(T),j=a(58),y=a.n(j),S=a(199),x=function(e){var t=e.addIssueOpen,a=e.setAddIssueOpen,n=e.setAddOrUpdate,l=e.setEditInitVals;return s.a.createElement(h.a,{id:"nav-bar",navigationType:"dark"},s.a.createElement(y.a,{display:"flex",flex:"1",margin:"0 auto"},s.a.createElement(S.Menu,{menuType:"dark",display:"flex",flex:"1"},s.a.createElement(y.a,{height:"",flex:"1"},"Issue Tracker"),s.a.createElement(S.MenuItem,{icon:"add",onClick:function(){a(!t),l({_id:"",title:"",details:"",assigned:"",status:""}),n("Add")}},"Add Issue"))))},F=a(283),A=a.n(F),V=a(284),k=a.n(V),_=a(106),w=a.n(_),C=a(143),P=a(200),U=a(135),D=a.n(U),H=function(e){var t=e.text,a=e.fieldKey,n=e.required,l=e.editInitVals,r=e.setEditInitVals;return s.a.createElement(D.a,{size:"small",required:n,label:t,value:l[a],onChange:function(e){return r(Object(P.a)(Object(P.a)({},l),{},Object(C.a)({},a,e.target.value)))}})},L=function(e){var t=e.addIssueOpen,a=e.setAddIssueOpen,l=e.addIssue,r=e.addOrUpdate,i=e.editInitVals,c=e.setEditInitVals,u=Object(n.useState)(0),o=Object(d.a)(u,2),p=o[0],m=o[1];return s.a.createElement(k.a,{open:t,title:r+" Issue",subtitle:"Please enter issue details"},s.a.createElement(A.a,{stickyFooter:!0,onSubmit:function(e){return e.preventDefault(),m(0),""===i.title&&""===i.details?m(2):""===i.title||""===i.details?m(1):(m(0),l(),void a(!1))},leftSideButtons:s.a.createElement(w.a,{onClick:function(){return a(!t)}},"Cancel"),saveButton:s.a.createElement(w.a,{buttonType:"primary",type:"submit"},"Save"),fieldSpacing:2,errorCount:p},s.a.createElement(H,{text:"Issue Title",fieldKey:"title",required:"true",editInitVals:i,setEditInitVals:c}),s.a.createElement(H,{text:"Issue Details",fieldKey:"details",required:"true",editInitVals:i,setEditInitVals:c}),s.a.createElement(H,{text:"Assigned To",fieldKey:"assigned",editInitVals:i,setEditInitVals:c}),s.a.createElement(H,{text:"Status",fieldKey:"status",editInitVals:i,setEditInitVals:c})))},B=a(285),K=a.n(B),M=function(e){var t=e.toastMessage,a=e.toastOpen,n=e.setToastOpen;return s.a.createElement("div",null,s.a.createElement(K.a,{variant:"success",open:a,onDismiss:function(e){n(!1)},timeout:2e3},t))};var R=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),i=Object(d.a)(r,2),p=i[0],f=i[1],b=Object(n.useState)(!1),O=Object(d.a)(b,2),I=O[0],v=O[1],T=Object(n.useState)(""),h=Object(d.a)(T,2),j=h[0],y=h[1],S=Object(n.useState)("add"),F=Object(d.a)(S,2),A=F[0],V=F[1],k=Object(n.useState)({_id:"",title:"",details:"",assigned:"",status:""}),_=Object(d.a)(k,2),w=_[0],C=_[1];Object(n.useEffect)((function(){return P(),function(){console.log("loaded")}}),[]);var P=function(){var e=Object(u.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/issues/apitest");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,l(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(c.a.mark((function e(){var t,a,n,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("issue_title",w.title),t.append("issue_text",w.details),t.append("assigned_to",w.assigned),t.append("status_text",w.status),t.append("created_by","Administrator"),"Update"===A&&t.append("_id",w._id),a=new URLSearchParams(t),n="Add"===A?"POST":"PUT",e.next=11,fetch("/api/issues/apitest",{method:n,body:a});case 11:return s=e.sent,e.next=14,s.json();case 14:l=e.sent,console.log(l),y("Add"===A?"Issue created successfully":"Issue updated successfully"),v(!0),P();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(c.a.mark((function e(t){var a,n,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("_id",t),n=new URLSearchParams(a),e.next=5,fetch("/api/issues/apitest",{method:"DELETE",body:n});case 5:return s=e.sent,e.next=8,s.json();case 8:l=e.sent,console.log(l),y("Issue deleted successfully"),v(!0),P();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(o.ThemeProvider,{theme:m.a},s.a.createElement(E.a,null,s.a.createElement(x,{addIssueOpen:p,setAddIssueOpen:f,setAddOrUpdate:V,setEditInitVals:C}),s.a.createElement(g,{issueList:a,setAddIssueOpen:f,setAddOrUpdate:V,setEditInitVals:C,deleteIssue:D}),s.a.createElement(L,{addIssueOpen:p,setAddIssueOpen:f,addIssue:U,addOrUpdate:A,editInitVals:w,setEditInitVals:C}),s.a.createElement(M,{toastMessage:j,toastOpen:I,setToastOpen:v})))},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,487)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,l=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),l(e),r(e)}))};r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(R,null)),document.getElementById("root")),q()}},[[482,1,2]]]);
//# sourceMappingURL=main.cc721dfe.chunk.js.map